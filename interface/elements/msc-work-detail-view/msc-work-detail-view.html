<dom-module id="msc-work-detail-view">
  <link rel="import" type="css" href="msc-work-detail-view.css">
  <template>
    <div id="container" class="container" expanded$="{{expanded}}">
      <div class="header-wrapper">
        <div class="pending-bar" hidden$="{{!work.isPending}}">{{locale.workDetailView.label.pending}}</div>
        <div class="header" on-tap="toggleDrawer">
          <div class="release-date">{{work.license.publish_datetime}}</div>
          <div class="work-image" style="background-image: url('{{work.image_url_https}}')"></div>
          <div class="header-content">
            <div class="title">{{work.title}}</div>
            <div class="stats">
              <div class="stat earned">
                <div class="stat-value">{{_convertToMusicoin(work.license.total_earned)}}</div>
                <div class="stat-name">{{locale.workDetailView.label.earned}}</div>
              </div>
              <div class="stat plays">
                <div class="stat-value">{{_getLicenseValue(work, "play_count", 0)}}</div>
                <div class="stat-name">{{locale.workDetailView.label.plays}}</div>
              </div>
              <div class="stat tips">
                <div class="stat-value">{{_getLicenseValue(work, "tip_count", 0)}}</div>
                <div class="stat-name">{{locale.workDetailView.label.tips}}</div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="detail">
        <div class="royalties"></div>
        <div class="contributors"></div>
        <div class="contract">{{work.license.contract_id}}</div>
        <div on-tap="showLicense" class="link">show license</div>
        <paper-dialog class="license-preview-dialog" id="licenseDialog">
          <paper-dialog-scrollable>
            <msc-license-readable work="[[work]]" license="[[work.license]]"></msc-license-readable>
          </paper-dialog-scrollable>
          <div class="buttons">
            <paper-button dialog-dismiss>Close</paper-button>
          </div>
        </paper-dialog>
      </div>
    </div>
  </template>
  <script src="msc-work-detail-view.js"></script>
</dom-module>
