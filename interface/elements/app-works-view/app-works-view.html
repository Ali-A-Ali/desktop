<dom-module id="app-works-view">
  <link rel="import" type="css" href="app-works-view.css">
  <template>
    <div>
      <div class="card">
        <h3>[[locale.worksView.headers.assets]]</h3>
        <paper-input id="audioFile" label="audio file" type="file" value="{{selectedAudio}}"></paper-input>
        <paper-input id="imageFile" label="image file" type="file" value="{{selectedImage}}"></paper-input>
        <div class="upload">
          <img src="[[uploadedImagesDir]][[selectedImage]]">
          [[locale.worksView.buttons.upload]]
        </div>

        <h3>[[locale.worksView.headers.licensing]]</h3>
        <paper-input id="artist" label="artist"></paper-input>
        <paper-input id="album" label="album"></paper-input>
        <paper-input id="track" label="track"></paper-input>
        <paper-input id="price" label="price (in ether)"></paper-input>

        <h3>[[locale.worksView.headers.contributorShares]]</h3>
        <template is="dom-repeat" items="[[contributors]]" as="contributor">
          <paper-material class="contributor-tag">
            <div class="contributor-name">[[contributor.name]]</div>
            <div class="contributor-role" contenteditable="true">[[contributor.role]]</div>
            <input class="shares" type=number value="[[contributor.shares]]"> shares
            <paper-icon-button id="deleteButton" icon="icons:clear" contributor-index="[[index]]" on-tap="removeContributor"></paper-icon-button>
          </paper-material>
        </template>
        <br>
        <paper-input id="contributorInput" on-keydown="checkForEnter" label="add contributor"></paper-input>
        <br>
        <paper-button raised on-tap="deploy">[[locale.worksView.buttons.release]]</paper-button>
      </div>

      <div class="card">
        <h3>[[locale.worksView.headers.developerTools]]</h3>
        <paper-button raised on-tap="test">Test</paper-button>
        <paper-button raised on-tap="testEncryption">Test Encryption</paper-button>
        <paper-button raised on-tap="testDecryption">Test Decryption</paper-button>
        <p>ipfs hash: [[ipfsTestData.hash]]</p>
        <p>tx: [[ipfsTestData.tx]]</p>
        <p>contract: [[ipfsTestData.contract]]</p>
        <p>status: [[ipfsTestData.status]]</p>
      </div>
    </div>
  </template>
  <script src="app-works-view.js"></script>
</dom-module>
